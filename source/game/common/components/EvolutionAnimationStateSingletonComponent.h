//
//  EvolutionAnimationStateSingletonComponent.h
//  ProjectRetro
//
//  Created by Alex Koukoulas on 08/07/2019.
//

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#ifndef EvolutionAnimationStateSingletonComponent_h
#define EvolutionAnimationStateSingletonComponent_h

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#include "../utils/Timer.h"
#include "../../ECS.h"

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

enum class EvolutionAnimationState
{
    NOT_STARTED,
    SHOW_OLD_POKEMON_COLORED,
    POKEMON_TRANSITION,
    SHOW_NEW_POKEMON_COLORED,
    EVOLUTION_FINISHED_TEXT
};

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

class EvolutionAnimationStateSingletonComponent final: public ecs::IComponent
{
public:
    ecs::EntityId mOldPokemonSpriteEntityId         = ecs::NULL_ENTITY_ID;
    ecs::EntityId mNewPokemonSpriteEntityId         = ecs::NULL_ENTITY_ID;
    EvolutionAnimationState mAnimationState         = EvolutionAnimationState::NOT_STARTED;
    std::unique_ptr<Timer> mEvolutionAnimationTimer = nullptr;
    int mEvolutionAnimationStepCounter              = 0;
    int mEvolutionAnimationRepeatCounter            = 0;
    bool mNeedToCheckEvolutionNewMoves              = false;

};

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#endif /* EvolutionAnimationStateSingletonComponent_h */
