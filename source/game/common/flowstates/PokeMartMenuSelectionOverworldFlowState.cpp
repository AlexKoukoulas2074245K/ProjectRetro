//
//  PokeMartMenuSelectionOverworldFlowState.cpp
//  ProjectRetro
//
//  Created by Alex Koukoulas on 26/09/2019.
//

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#include "PokeMartMenuSelectionOverworldFlowState.h"
#include "../components/GuiStateSingletonComponent.h"
#include "../components/PlayerStateSingletonComponent.h"
#include "../components/PokeMartDialogStateComponent.h"
#include "../utils/TextboxUtils.h"
#include "../../input/components/InputStateSingletonComponent.h"
#include "../../input/utils/InputUtils.h"

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

PokeMartMenuSelectionOverworldFlowState::PokeMartMenuSelectionOverworldFlowState(ecs::World& world)
    : BaseFlowState(world)
{   
    DisplayMenuTextbox();
    DisplayMoneyTextbox();
}

void PokeMartMenuSelectionOverworldFlowState::VUpdate(const float)
{        
   
}

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

void PokeMartMenuSelectionOverworldFlowState::DisplayMenuTextbox() const
{
    auto& pokeMartDialogStateComponent = mWorld.GetSingletonComponent<PokeMartDialogStateComponent>();
    pokeMartDialogStateComponent.mMenuTextboxEntityId = CreatePokeMartMenuTextbox(mWorld);
}

void PokeMartMenuSelectionOverworldFlowState::DisplayMoneyTextbox() const
{    
    auto& pokeMartDialogStateComponent = mWorld.GetSingletonComponent<PokeMartDialogStateComponent>();
    pokeMartDialogStateComponent.mMoneyTextboxEntityId = CreatePokeMartMoneyTextbox(mWorld);
}

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

