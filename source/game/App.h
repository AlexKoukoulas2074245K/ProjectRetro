//
//  App.h
//  ProjectRetro
//
//  Created by Alex Koukoulas on 27/03/2019.
//

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#ifndef App_h
#define App_h

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#include "ECS.h"

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

class App final
{
public:
    void Run();
    
private:    
    void CreateSystems();
    void GameLoop();
    bool AppShouldQuit();
    void CommonSingletonsInitialization();
    void InitializationFromSaveFile();
    void DummyInitialization();
    
private:
    static const float MIN_DT;
    static const float MAX_DT;

#ifndef NDEBUG
    static const float DEBUG_DT_SPEEDUP;
#endif

    ecs::World mWorld;    
};

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#endif /* App_h */
