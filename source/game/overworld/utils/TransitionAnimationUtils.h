//
//  TransitionAnimationUtils.h
//  ProjectRetro
//
//  Created by Alex Koukoulas on 29/03/2019.
//


////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#ifndef TransitionAnimationUtils_h
#define TransitionAnimationUtils_h

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#include "LevelUtils.h"
#include "../../ECS.h"
#include "../../rendering/utils/Colors.h"
#include "../../common/utils/StringUtils.h"


////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

inline glm::vec4 GetBackgroundColorBasedOnTransitionStep
(    
    const glm::vec4& currentLevelColor,
    const StringId currentLevelNameId,
    const int transitionAnimationStep
)
{
    if (currentLevelNameId.GetString() == "battle")
    {
        return colors::GLOBAL_WHITE_COLOR;
    }
    
    if (IsLevelIndoors(currentLevelNameId))
    {
        return colors::GLOBAL_BLACK_COLOR;
    }

    switch (transitionAnimationStep)
    {
        case 0: return currentLevelColor; 
        case 1: return colors::GLOBAL_BLUE_COLOR;
        case 2: return colors::GLOBAL_BLACK_COLOR;
        case 3: return colors::GLOBAL_BLACK_COLOR;
    }
    
    return currentLevelColor;
}

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#endif /* TransitionAnimationUtils_h */
