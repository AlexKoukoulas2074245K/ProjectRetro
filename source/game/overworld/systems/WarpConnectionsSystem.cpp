//
//  WarpConnectionsSystem.cpp
//  ProjectRetro
//
//  Created by Alex Koukoulas on 11/04/2019.
//

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

#include "WarpConnectionsSystem.h"
#include "../components/WarpConnectionsComponent.h"

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////

WarpConnectionsSystem::WarpConnectionsSystem(ecs::World& world)
    : BaseSystem(world)
{
    mWorld.SetSingletonComponent<WarpConnectionsComponent>(std::make_unique<WarpConnectionsComponent>());
}

void WarpConnectionsSystem::VUpdateAssociatedComponents(const float) const
{
    auto& warpConnectionsComponent = mWorld.GetSingletonComponent<WarpConnectionsComponent>();
    if (warpConnectionsComponent.mHasPendingWarpConnection)
    {
        warpConnectionsComponent.mHasPendingWarpConnection = false;
    }
}

////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////